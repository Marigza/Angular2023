"use strict";(self.webpackChunkyoutube_client_app=self.webpackChunkyoutube_client_app||[]).push([[932],{7932:(H,v,n)=>{n.r(v),n.d(v,{YoutubeModule:()=>R});var l=n(6814),o=n(6223),g=n(2490),m=n(2296),d=n(5195),p=n(8165),y=n(617),b=n(2032),t=n(5879);let _=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.oAB({type:e});static#r=this.\u0275inj=t.cJS({imports:[l.ez,d.QW,y.Ps,p.lN,b.c,m.ot]})}return e})();var f=n(4087),C=n(4041);function T(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"Please enter a title"),t.qZA())}function A(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"The title is too short"),t.qZA())}function x(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"The title is too long"),t.qZA())}function I(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1,"The description is too long"),t.qZA())}function F(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a link to the image "),t.qZA())}function S(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a link to the video "),t.qZA())}function U(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," Please enter a creation date "),t.qZA())}function w(e,s){1&e&&(t.TgZ(0,"mat-error"),t._uU(1," The date is invalid "),t.qZA())}let k=(()=>{class e{constructor(a,r){this.formBuilder=a,this.cardsStoreFacadeService=r,this.currentDate=new Date,this.newCard={kind:"custom#video",etag:"",id:"",snippet:{publishedAt:"",channelId:"",title:"",description:"",thumbnails:{default:{url:"",width:120,height:90},medium:{url:"",width:320,height:180},high:{url:"",width:480,height:360},standard:{url:"",width:640,height:480},maxres:{url:"",width:1280,height:720}},channelTitle:"",tags:[],categoryId:"",liveBroadcastContent:"",defaultLanguage:"",localized:{title:"",description:""},defaultAudioLanguage:""},statistics:{viewCount:"50",likeCount:"50",dislikeCount:"50",favoriteCount:"50",commentCount:"50"}},this.createCard=this.formBuilder.group({title:["",[o.kI.required,o.kI.minLength(3),o.kI.maxLength(20)]],description:["",[o.kI.maxLength(255)]],image:["",[o.kI.required]],video:["",[o.kI.required]],date:["",[o.kI.required,o.kI.maxLength(10),this.dateValidator()]]})}dateValidator(){return a=>{const r=new Date(a.value);return Number(this.currentDate)-Number(r)<0?{dateInFuture:!0}:null}}onSubmit(){this.newCard.snippet.title=this.createCard.get("title")?.value??"",this.newCard.snippet.description=this.createCard.get("description")?.value??"",this.newCard.snippet.thumbnails.medium.url=this.createCard.get("image")?.value??"",this.newCard.snippet.thumbnails.high.url=this.createCard.get("image")?.value??"",this.newCard.snippet.thumbnails.maxres.url=this.createCard.get("video")?.value??"",this.newCard.snippet.publishedAt=this.createCard.get("date")?.value??"",this.newCard.id=this.generateId(),this.cardsStoreFacadeService.createCustomCard(this.newCard),this.newCard={kind:"custom#video",etag:"",id:"",snippet:{publishedAt:"",channelId:"",title:"",description:"",thumbnails:{default:{url:"",width:120,height:90},medium:{url:"",width:320,height:180},high:{url:"",width:480,height:360},standard:{url:"",width:640,height:480},maxres:{url:"",width:1280,height:720}},channelTitle:"",tags:[],categoryId:"",liveBroadcastContent:"",defaultLanguage:"",localized:{title:"",description:""},defaultAudioLanguage:""},statistics:{viewCount:"50",likeCount:"50",dislikeCount:"50",favoriteCount:"50",commentCount:"50"}},this.resetForm()}generateId(){return String(Math.round(1e6*Math.random()))}resetForm(){this.createCard.reset()}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(o.j3),t.Y36(C.p))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["yta-admin"]],decls:38,vars:10,consts:[[1,"create-card-block"],[1,"card-header"],["novalidate","",1,"form",3,"formGroup","ngSubmit"],["appearance","outline"],["type","text","matInput","","formControlName","title","required",""],[4,"ngIf"],["type","text","matInput","","formControlName","description"],["type","text","matInput","","formControlName","image","required",""],["type","text","matInput","","formControlName","video","required",""],["type","date","value","2017-06-01","matInput","","formControlName","date","required",""],[1,"buttons-block"],["mat-raised-button","","color","primary","type","submit",3,"disabled"],[3,"click"]],template:function(r,i){1&r&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header",1)(2,"mat-card-title"),t._uU(3,"Create new card"),t.qZA()(),t.TgZ(4,"form",2),t.NdJ("ngSubmit",function(){return i.onSubmit()}),t.TgZ(5,"mat-form-field",3)(6,"mat-label"),t._uU(7,"title"),t.qZA(),t._UZ(8,"input",4),t.YNc(9,T,2,0,"mat-error",5),t.YNc(10,A,2,0,"mat-error",5),t.YNc(11,x,2,0,"mat-error",5),t.qZA(),t.TgZ(12,"mat-form-field",3)(13,"mat-label"),t._uU(14,"description"),t.qZA(),t._UZ(15,"input",6),t.YNc(16,I,2,0,"mat-error",5),t.qZA(),t.TgZ(17,"mat-form-field",3)(18,"mat-label"),t._uU(19,"image"),t.qZA(),t._UZ(20,"input",7),t.YNc(21,F,2,0,"mat-error",5),t.qZA(),t.TgZ(22,"mat-form-field",3)(23,"mat-label"),t._uU(24,"video"),t.qZA(),t._UZ(25,"input",8),t.YNc(26,S,2,0,"mat-error",5),t.qZA(),t.TgZ(27,"mat-form-field",3)(28,"mat-label"),t._uU(29,"date"),t.qZA(),t._UZ(30,"input",9),t.YNc(31,U,2,0,"mat-error",5),t.YNc(32,w,2,0,"mat-error",5),t.qZA(),t.TgZ(33,"div",10)(34,"button",11),t._uU(35,"Create"),t.qZA(),t.TgZ(36,"yta-button",12),t.NdJ("click",function(){return i.resetForm()}),t._uU(37,"Reset"),t.qZA()()()()),2&r&&(t.xp6(4),t.Q6J("formGroup",i.createCard),t.xp6(5),t.Q6J("ngIf",i.createCard.controls.title.touched&&i.createCard.controls.title.hasError("required")),t.xp6(1),t.Q6J("ngIf",i.createCard.controls.title.hasError("minlength")),t.xp6(1),t.Q6J("ngIf",i.createCard.controls.title.hasError("maxlength")),t.xp6(5),t.Q6J("ngIf",i.createCard.controls.description.hasError("maxlength")),t.xp6(5),t.Q6J("ngIf",i.createCard.controls.image.touched&&i.createCard.controls.image.hasError("required")),t.xp6(5),t.Q6J("ngIf",i.createCard.controls.video.touched&&i.createCard.controls.video.hasError("required")),t.xp6(5),t.Q6J("ngIf",i.createCard.controls.date.touched&&i.createCard.controls.date.hasError("required")),t.xp6(1),t.Q6J("ngIf",i.createCard.controls.date.hasError("dateInFuture")),t.xp6(2),t.Q6J("disabled",!i.createCard.valid))},dependencies:[l.O5,o._Y,o.Fj,o.JJ,o.JL,o.Q7,o.sg,o.u,g.r,d.a8,d.dk,d.n5,p.KE,p.hX,p.TO,b.Nt,m.lW],styles:["[_nghost-%COMP%]{width:100%;background-color:#0003;border-radius:20px}.create-card-block[_ngcontent-%COMP%]{margin:20px auto;width:300px;padding:0 10px 20px}.card-header[_ngcontent-%COMP%]{margin:0 auto}.form[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center}.buttons-block[_ngcontent-%COMP%]{display:flex;gap:30px}"]})}return e})();var J=n(329),N=n(5619),M=n(4664),h=n(7398),Z=n(2572),Y=n(9615),$=n(1878);let O=(()=>{class e{constructor(a,r,i){this.filterByValueService=a,this.sortingCardsService=r,this.cardsStoreFacadeService=i,this.card$$=new N.X(null),this.card$=this.card$$.asObservable(),this.filteredCards$=this.filterByValueService.filterParameter$.pipe((0,M.w)(c=>{const u=this.youtubeCards$.pipe((0,h.U)(X=>X?.filter(V=>V.snippet.title.toLowerCase().includes(c.toLowerCase()))));return this.sortData(u)})),this.customCards$=this.cardsStoreFacadeService.customCards$,this.youtubeCards$=this.cardsStoreFacadeService.youtubeCards$,this.commonCards$=(0,Z.a)([this.customCards$,this.filteredCards$]).pipe((0,h.U)(([c,u])=>[c||[],u||[]]),(0,h.U)(([c,u])=>c.concat(u)))}sortData(a){return(0,Z.a)([a,this.sortingCardsService.sortingParams$]).pipe((0,h.U)(([r,i])=>r&&this.sortingCardsService.sortingData(r,i)))}getFilteredValue(){this.filterByValueService.updateData("")}updateData(a){this.card$$.next(a)}static#t=this.\u0275fac=function(r){return new(r||e)(t.LFG(Y.E),t.LFG($.m),t.LFG(C.p))};static#e=this.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var q=n(2368),B=n(4434);function Q(e,s){if(1&e){const a=t.EpF();t.TgZ(0,"button",7),t.NdJ("click",function(){t.CHM(a);const i=t.oxw();return t.KtG(i.toggleFavorite())}),t.TgZ(1,"mat-icon"),t._uU(2),t.qZA()()}if(2&e){const a=t.oxw();t.xp6(2),t.Oqu(a.isFavorite?"favorite":"favorite_border")}}function L(e,s){if(1&e){const a=t.EpF();t.TgZ(0,"button",8),t.NdJ("click",function(){t.CHM(a);const i=t.oxw();return t.KtG(i.deleteCustomCard())}),t._uU(1,"Delete"),t.qZA()}}let P=(()=>{class e{constructor(a){this.cardsStoreFacadeService=a,this.isFavorite=!1}toggleFavorite(){this.isFavorite?this.cardsStoreFacadeService.deleteFavoriteCard(this.card.id):this.cardsStoreFacadeService.addFavoriteCard(this.card),this.isFavorite=!this.isFavorite}get isCustomCard(){return"custom#video"===this.card?.kind}deleteCustomCard(){this.cardsStoreFacadeService.deleteCustomCard(this.card.id)}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(C.p))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["yta-item"]],inputs:{card:"card"},decls:12,vars:8,consts:[["ytaColoring","",1,"card",3,"publishedAt"],["mat-card-lg-image","","alt","",3,"src"],[3,"card"],[1,"card_buttons"],[3,"title","routerLink"],["mat-icon-button","","color","primary","aria-label","favorite",3,"click",4,"ngIf","ngIfElse"],["deleteButton",""],["mat-icon-button","","color","primary","aria-label","favorite",3,"click"],["type","button","mat-raised-button","","color","warn",3,"click"]],template:function(r,i){if(1&r&&(t.TgZ(0,"mat-card",0)(1,"mat-card-header")(2,"mat-card-title"),t._uU(3),t.qZA()(),t._UZ(4,"img",1)(5,"yta-statistic-block",2),t.TgZ(6,"div",3)(7,"yta-button",4),t._uU(8," More... "),t.qZA(),t.YNc(9,Q,3,1,"button",5),t.qZA(),t.YNc(10,L,2,0,"ng-template",null,6,t.W1O),t.qZA()),2&r){const c=t.MAs(11);t.Q6J("publishedAt",i.card.snippet.publishedAt),t.xp6(3),t.Oqu(i.card.snippet.title),t.xp6(1),t.s9C("src",i.card.snippet.thumbnails.medium.url,t.LSH),t.xp6(1),t.Q6J("card",i.card),t.xp6(2),t.Q6J("title",i.card.snippet.title)("routerLink",i.card.id),t.xp6(2),t.Q6J("ngIf",!i.isCustomCard)("ngIfElse",c)}},dependencies:[l.O5,g.r,d.a8,d.dk,d.WU,d.n5,y.Hw,m.lW,m.RK,f.rH,q.Y,B.B],styles:[".card[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:10px;align-items:center;justify-content:space-between;height:100%;padding:10px;border-bottom:5px solid black}.card_buttons[_ngcontent-%COMP%]{width:100%;display:flex;justify-content:space-between;align-items:center}"]})}return e})();function E(e,s){1&e&&t._UZ(0,"yta-item",2),2&e&&t.Q6J("card",s.$implicit)}function D(e,s){if(1&e&&(t.ynx(0),t.YNc(1,E,1,1,"yta-item",1),t.BQk()),2&e){const a=s.ngIf,r=t.oxw();t.xp6(1),t.Q6J("ngForOf",a)("ngForTrackBy",r.trackByCards)}}let j=(()=>{class e{constructor(a){this.cardsStateService=a,this.cards$=this.cardsStateService.commonCards$}trackByCards(a,r){return r.id}static#t=this.\u0275fac=function(r){return new(r||e)(t.Y36(O))};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["yta-search-results"]],decls:2,vars:3,consts:[[4,"ngIf"],["class","search-card",3,"card",4,"ngFor","ngForOf","ngForTrackBy"],[1,"search-card",3,"card"]],template:function(r,i){1&r&&(t.YNc(0,D,2,2,"ng-container",0),t.ALo(1,"async")),2&r&&t.Q6J("ngIf",t.lcZ(1,1,i.cards$))},dependencies:[l.sg,l.O5,P,l.Ov],styles:["[_nghost-%COMP%]{display:flex;flex-wrap:wrap;justify-content:center;gap:20px}.search-card[_ngcontent-%COMP%]{width:300px}"]})}return e})();const z=[{children:[{path:"",component:(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275cmp=t.Xpm({type:e,selectors:[["yta-main-page"]],decls:1,vars:0,template:function(r,i){1&r&&t._UZ(0,"yta-search-results")},dependencies:[j]})}return e})()},{path:"admin",component:k},{path:":cardId",component:J.O}],path:""}];let G=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.oAB({type:e});static#r=this.\u0275inj=t.cJS({imports:[f.Bz.forChild(z),f.Bz]})}return e})(),R=(()=>{class e{static#t=this.\u0275fac=function(r){return new(r||e)};static#e=this.\u0275mod=t.oAB({type:e});static#r=this.\u0275inj=t.cJS({imports:[l.ez,o.UX,g.r,_,G]})}return e})()}}]);